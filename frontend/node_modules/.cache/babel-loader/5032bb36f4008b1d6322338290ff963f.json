{"ast":null,"code":"var _jsxFileName = \"E:\\\\Workspace\\\\mongodb_expressjs_reactjs_nodejs\\\\frontend\\\\src\\\\components\\\\Register\\\\Register.js\",\n    _s = $RefreshSig$();\n\nimport { useState, useContext } from 'react';\nimport axios from 'axios';\nimport { useNavigate } from 'react-router-dom';\nimport './Register.css';\nimport { AppContext, getCurrentUser } from '../../exportStore';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst Register = () => {\n  _s();\n\n  const {\n    dispatch\n  } = useContext(AppContext);\n  const [userInput, setUserInput] = useState({\n    username: '',\n    email: '',\n    password: ''\n  });\n  const [errorMessage, setErrorMessage] = useState(null);\n  const history = useNavigate();\n\n  const onChangeHandler = event => {\n    setUserInput({ ...userInput,\n      [event.target.name]: event.target.value\n    });\n  };\n\n  const onSubmitHandler = async event => {\n    try {\n      event.preventDefault();\n      const option = {\n        method: 'POST',\n        url: 'api/v1/users/register',\n        data: userInput\n      };\n      const response = await axios(option);\n      const token = response.data.data.token;\n      localStorage.setItem('token', token);\n      dispatch(getCurrentUser(response.data.data.user.username));\n      history('/');\n    } catch (err) {\n      setErrorMessage(err.response.data.message);\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"register d-flex flex-justify-center w-100 mt-5 mb-5\",\n      children: /*#__PURE__*/_jsxDEV(\"form\", {\n        className: \"form-register text-center\",\n        autoComplete: \"off\",\n        onSubmit: onSubmitHandler,\n        children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n          className: \"form-register-text text-bold mt-2 mb-3\",\n          children: \"Register Account\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 36,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-group\",\n          children: [errorMessage && Array.isArray(errorMessage) ? errorMessage.map((err, index) => {\n            return /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"error-message\",\n              children: [\"Error: \", err]\n            }, index, true, {\n              fileName: _jsxFileName,\n              lineNumber: 41,\n              columnNumber: 40\n            }, this);\n          }) : /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"error-message\",\n            children: errorMessage ? `Error: ${errorMessage}` : ''\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 43,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"error-message\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 45,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 37,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-group\",\n          children: /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            className: \"form-control\",\n            id: \"username\",\n            name: \"username\",\n            placeholder: \"Name\",\n            value: userInput.username,\n            onChange: onChangeHandler\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 48,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 47,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-group\",\n          children: /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"email\",\n            className: \"form-control mt-4\",\n            id: \"email\",\n            name: \"email\",\n            placeholder: \"Email\",\n            value: userInput.email,\n            onChange: onChangeHandler\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 51,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 50,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-group\",\n          children: /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"password\",\n            className: \"form-control mt-4\",\n            id: \"password\",\n            name: \"password\",\n            placeholder: \"Password\",\n            value: userInput.password,\n            onChange: onChangeHandler\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 54,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 53,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-group\",\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"btn-custom mt-2 w-100\",\n            children: \"Register\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 57,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 35,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 13\n    }, this)\n  }, void 0, false);\n};\n\n_s(Register, \"ZHMBE8TBoJxI6B+S8QvRD+Ynrmg=\", false, function () {\n  return [useNavigate];\n});\n\n_c = Register;\nexport default Register;\n\nvar _c;\n\n$RefreshReg$(_c, \"Register\");","map":{"version":3,"sources":["E:/Workspace/mongodb_expressjs_reactjs_nodejs/frontend/src/components/Register/Register.js"],"names":["useState","useContext","axios","useNavigate","AppContext","getCurrentUser","Register","dispatch","userInput","setUserInput","username","email","password","errorMessage","setErrorMessage","history","onChangeHandler","event","target","name","value","onSubmitHandler","preventDefault","option","method","url","data","response","token","localStorage","setItem","user","err","message","Array","isArray","map","index"],"mappings":"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","sourcesContent":["import {useState, useContext} from 'react';\r\nimport axios from 'axios';\r\nimport {useNavigate} from 'react-router-dom';\r\nimport './Register.css';\r\nimport { AppContext, getCurrentUser } from '../../exportStore';\r\n\r\nconst Register = () => {\r\n    const {dispatch} = useContext(AppContext);\r\n    const [userInput, setUserInput] = useState({username: '', email: '', password: ''});\r\n    const [errorMessage, setErrorMessage] = useState(null);\r\n    const history = useNavigate();\r\n    const onChangeHandler = (event) => {\r\n        setUserInput({...userInput, [event.target.name]: event.target.value});\r\n    }\r\n    const onSubmitHandler = async (event) => {\r\n        try{\r\n            event.preventDefault();\r\n            const option = {\r\n                method: 'POST',\r\n                url: 'api/v1/users/register',\r\n                data: userInput\r\n            }\r\n            const response = await axios(option);\r\n            const token = response.data.data.token;\r\n            localStorage.setItem('token', token);\r\n            dispatch(getCurrentUser(response.data.data.user.username));\r\n            history('/');\r\n        }catch(err){    \r\n            setErrorMessage(err.response.data.message);\r\n        }\r\n    }\r\n    return (\r\n        <>\r\n            <div className='register d-flex flex-justify-center w-100 mt-5 mb-5'>\r\n                <form className='form-register text-center' autoComplete='off' onSubmit={onSubmitHandler}>\r\n                    <h5 className='form-register-text text-bold mt-2 mb-3'>Register Account</h5>\r\n                    <div className='form-group'>\r\n                        {errorMessage && \r\n                            Array.isArray(errorMessage) ?\r\n                            errorMessage.map((err, index) => {\r\n                                return <div key={index} className='error-message'>Error: {err}</div>\r\n                            }) : \r\n                            <div className='error-message'>{errorMessage ? `Error: ${errorMessage}` : ''}</div>\r\n                        }\r\n                        <div className='error-message'></div>\r\n                    </div>\r\n                    <div className='form-group'>\r\n                        <input type='text' className='form-control' id='username' name='username' placeholder='Name' value={userInput.username} onChange={onChangeHandler}/>\r\n                    </div>\r\n                    <div className='form-group'>\r\n                        <input type='email' className='form-control mt-4' id='email' name='email' placeholder='Email'value={userInput.email} onChange={onChangeHandler}/>\r\n                    </div>\r\n                    <div className='form-group'>\r\n                        <input type='password' className='form-control mt-4' id='password' name='password' placeholder='Password' value={userInput.password} onChange={onChangeHandler}/>\r\n                    </div>\r\n                    <div className='form-group'>\r\n                        <button className='btn-custom mt-2 w-100'>Register</button>\r\n                    </div>\r\n                </form>\r\n            </div>\r\n        </>\r\n    )\r\n}\r\nexport default Register;"]},"metadata":{},"sourceType":"module"}