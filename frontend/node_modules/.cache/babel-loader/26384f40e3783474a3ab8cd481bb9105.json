{"ast":null,"code":"import _asyncToGenerator from\"E:\\\\Workspace\\\\mongodb_expressjs_reactjs_nodejs\\\\frontend\\\\node_modules\\\\@babel\\\\runtime\\\\helpers\\\\esm\\\\asyncToGenerator.js\";import _regeneratorRuntime from\"E:\\\\Workspace\\\\mongodb_expressjs_reactjs_nodejs\\\\frontend\\\\node_modules\\\\@babel\\\\runtime\\\\regenerator\\\\index.js\";import axios from'axios';import{useCallback,useContext,useEffect}from'react';import{PostItem,AppContext,getAllPost}from'../../../exportStore';import'../Posts.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var PostContainer=function PostContainer(){var _useContext=useContext(AppContext),state=_useContext.state,dispatch=_useContext.dispatch;var getAllPosts=useCallback(/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var option,response;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;option={method:'GET',url:'api/v1/posts'};_context.next=4;return axios(option);case 4:response=_context.sent;dispatch(getAllPost(response.data.data));_context.next=11;break;case 8:_context.prev=8;_context.t0=_context[\"catch\"](0);console.log(_context.t0);case 11:case\"end\":return _context.stop();}}},_callee,null,[[0,8]]);})),[dispatch]);useEffect(function(){getAllPosts();},[getAllPosts]);return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(\"div\",{className:\"pd-rt-15 mt-3\",children:/*#__PURE__*/_jsx(\"ul\",{className:\"post-list-container\",children:state.posts.map(function(post,index){return/*#__PURE__*/_jsx(PostItem,{post:post},index);})})})});};export default PostContainer;","map":{"version":3,"sources":["E:/Workspace/mongodb_expressjs_reactjs_nodejs/frontend/src/components/Posts/PostContainer/PostContainer.js"],"names":["axios","useCallback","useContext","useEffect","PostItem","AppContext","getAllPost","PostContainer","state","dispatch","getAllPosts","option","method","url","response","data","console","log","posts","map","post","index"],"mappings":"4SAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAASC,WAAT,CAAsBC,UAAtB,CAAkCC,SAAlC,KAAmD,OAAnD,CACA,OAAQC,QAAR,CAAkBC,UAAlB,CAA8BC,UAA9B,KAA+C,sBAA/C,CACA,MAAO,cAAP,C,gGACA,GAAMC,CAAAA,aAAa,CAAG,QAAhBA,CAAAA,aAAgB,EAAM,CACxB,gBAA0BL,UAAU,CAACG,UAAD,CAApC,CAAOG,KAAP,aAAOA,KAAP,CAAcC,QAAd,aAAcA,QAAd,CACA,GAAMC,CAAAA,WAAW,CAAGT,WAAW,sEAAC,uKAElBU,MAFkB,CAET,CACXC,MAAM,CAAE,KADG,CAEXC,GAAG,CAAE,cAFM,CAFS,uBAMDb,CAAAA,KAAK,CAACW,MAAD,CANJ,QAMlBG,QANkB,eAOxBL,QAAQ,CAACH,UAAU,CAACQ,QAAQ,CAACC,IAAT,CAAcA,IAAf,CAAX,CAAR,CAPwB,+EASxBC,OAAO,CAACC,GAAR,cATwB,oEAAD,GAW7B,CAACR,QAAD,CAX6B,CAA/B,CAYAN,SAAS,CAAC,UAAM,CACZO,WAAW,GACd,CAFQ,CAEP,CAACA,WAAD,CAFO,CAAT,CAGA,mBACI,sCACI,YAAK,SAAS,CAAC,eAAf,uBACI,WAAI,SAAS,CAAC,qBAAd,UACKF,KAAK,CAACU,KAAN,CAAYC,GAAZ,CAAgB,SAACC,IAAD,CAAOC,KAAP,CAAiB,CAC9B,mBACI,KAAC,QAAD,EAAU,IAAI,CAAED,IAAhB,EAA2BC,KAA3B,CADJ,CAGH,CAJA,CADL,EADJ,EADJ,EADJ,CAaH,CA9BD,CA+BA,cAAed,CAAAA,aAAf","sourcesContent":["import axios from 'axios';\r\nimport { useCallback, useContext, useEffect } from 'react';\r\nimport {PostItem, AppContext, getAllPost} from '../../../exportStore';\r\nimport '../Posts.css';\r\nconst PostContainer = () => {\r\n    const {state, dispatch} = useContext(AppContext);\r\n    const getAllPosts = useCallback(async () => {\r\n        try{\r\n            const option = {\r\n                method: 'GET',\r\n                url: 'api/v1/posts',\r\n            }\r\n            const response = await axios(option);\r\n            dispatch(getAllPost(response.data.data));\r\n        }catch(err){\r\n            console.log(err);\r\n        }\r\n    },[dispatch]);\r\n    useEffect(() => {\r\n        getAllPosts();\r\n    },[getAllPosts]);\r\n    return (\r\n        <>\r\n            <div className='pd-rt-15 mt-3'>\r\n                <ul className='post-list-container'>\r\n                    {state.posts.map((post, index) => {\r\n                        return (\r\n                            <PostItem post={post} key={index}/>\r\n                        )\r\n                    })}\r\n                </ul>\r\n            </div>\r\n        </>\r\n    )\r\n}\r\nexport default PostContainer;"]},"metadata":{},"sourceType":"module"}