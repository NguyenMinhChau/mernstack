{"ast":null,"code":"var _jsxFileName = \"E:\\\\Workspace\\\\mongodb_expressjs_reactjs_nodejs\\\\frontend\\\\src\\\\components\\\\Login\\\\Login.js\",\n    _s = $RefreshSig$();\n\nimport { useState, useContext } from 'react';\nimport axios from 'axios';\nimport { useNavigate } from 'react-router-dom';\nimport { AppContext, getCurrentUser } from '../../exportStore';\nimport './Login.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst Login = () => {\n  _s();\n\n  const {\n    dispatch\n  } = useContext(AppContext);\n  const [userInput, setUserInput] = useState({\n    email: '',\n    password: ''\n  });\n  const [errorMessage, setErrorMessage] = useState(null);\n  const history = useNavigate();\n\n  const onChangeHandler = event => {\n    setUserInput({ ...userInput,\n      [event.target.name]: event.target.value\n    });\n  };\n\n  const onSubmitHandler = async event => {\n    try {\n      event.preventDefault();\n      const option = {\n        method: 'POST',\n        url: 'api/v1/users/login',\n        data: userInput\n      };\n      const response = await axios(option);\n      const token = response.data.data.token;\n      localStorage.setItem('token', token);\n      dispatch(getCurrentUser(response.data.data.user.username));\n      history('/');\n    } catch (err) {\n      setErrorMessage(err.response.data.message);\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"login d-flex flex-justify-center w-100 mt-5 mb-5\",\n      children: /*#__PURE__*/_jsxDEV(\"form\", {\n        className: \"form-login text-center\",\n        autoComplete: \"off\",\n        onSubmit: onSubmitHandler,\n        children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n          className: \"form-login-text text-bold mt-2 mb-3\",\n          children: \"Enter Account\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 36,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-group\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"error-message\",\n            children: errorMessage ? `Error: ${errorMessage}` : ''\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 38,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 37,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-group\",\n          children: /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"email\",\n            className: \"form-control\",\n            id: \"email\",\n            name: \"email\",\n            placeholder: \"Email\",\n            value: userInput.email,\n            onChange: onChangeHandler\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 41,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 40,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-group\",\n          children: /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"password\",\n            className: \"form-control mt-4\",\n            id: \"password\",\n            name: \"password\",\n            placeholder: \"Password\",\n            value: userInput.password,\n            onChange: onChangeHandler\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 44,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 43,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-group\",\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"btn-custom mt-2 w-100\",\n            children: \"Login\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 47,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 46,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 35,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 13\n    }, this)\n  }, void 0, false);\n};\n\n_s(Login, \"x6WbcON26U6C1WBw0CRIKq2emoA=\", false, function () {\n  return [useNavigate];\n});\n\n_c = Login;\nexport default Login;\n\nvar _c;\n\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"sources":["E:/Workspace/mongodb_expressjs_reactjs_nodejs/frontend/src/components/Login/Login.js"],"names":["useState","useContext","axios","useNavigate","AppContext","getCurrentUser","Login","dispatch","userInput","setUserInput","email","password","errorMessage","setErrorMessage","history","onChangeHandler","event","target","name","value","onSubmitHandler","preventDefault","option","method","url","data","response","token","localStorage","setItem","user","username","err","message"],"mappings":"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","sourcesContent":["import {useState, useContext} from 'react';\r\nimport axios from 'axios';\r\nimport {useNavigate} from 'react-router-dom';\r\nimport { AppContext, getCurrentUser } from '../../exportStore';\r\nimport './Login.css';\r\n\r\nconst Login = () => {\r\n    const {dispatch} = useContext(AppContext);\r\n    const [userInput, setUserInput] = useState({email: '', password: ''});\r\n    const [errorMessage, setErrorMessage] = useState(null);\r\n    const history = useNavigate();\r\n    const onChangeHandler = (event) => {\r\n        setUserInput({...userInput, [event.target.name]: event.target.value});\r\n    }\r\n    const onSubmitHandler = async (event) => {\r\n        try{\r\n            event.preventDefault();\r\n            const option = {\r\n                method: 'POST',\r\n                url: 'api/v1/users/login',\r\n                data: userInput\r\n            }\r\n            const response = await axios(option);\r\n            const token = response.data.data.token;\r\n            localStorage.setItem('token', token);\r\n            dispatch(getCurrentUser(response.data.data.user.username));\r\n            history('/');\r\n        }catch(err){    \r\n            setErrorMessage(err.response.data.message);\r\n        }\r\n    }\r\n    return (\r\n        <>\r\n            <div className='login d-flex flex-justify-center w-100 mt-5 mb-5'>\r\n                <form className='form-login text-center' autoComplete='off' onSubmit={onSubmitHandler}>\r\n                    <h5 className='form-login-text text-bold mt-2 mb-3'>Enter Account</h5>\r\n                    <div className='form-group'>\r\n                        <div className='error-message'>{errorMessage ? `Error: ${errorMessage}` : ''}</div>\r\n                    </div>\r\n                    <div className='form-group'>\r\n                        <input type='email' className='form-control' id='email' name='email' placeholder='Email' value={userInput.email} onChange={onChangeHandler}/>\r\n                    </div>\r\n                    <div className='form-group'>\r\n                        <input type='password' className='form-control mt-4' id='password' name='password' placeholder='Password' value={userInput.password} onChange={onChangeHandler}/>\r\n                    </div>\r\n                    <div className='form-group'>\r\n                        <button className='btn-custom mt-2 w-100'>Login</button>\r\n                    </div>\r\n                </form>\r\n            </div>\r\n        </>\r\n    )\r\n}\r\nexport default Login;"]},"metadata":{},"sourceType":"module"}